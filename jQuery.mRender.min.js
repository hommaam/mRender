/*!
 * jQuery mRender v1.0
 * Copyright 2016 maam.inc
 * Contributing Author: Hiroki Homma
 * Require for jQuery v1.7 or above
 */
!function(n){mRender=function(){var t,r=60,i={scr:0,winH:0,winW:0},e={},o={},u=function(){for(var n in e)o[n]&&e[n].func(),o[n]=!1},f=function(n){},c=function(n){},r=function(n){return"number"==typeof n&&(r=n),this},g=function(t){var r={};"string"==typeof t.trigger&&(t.trigger=t.trigger.split(" ")),"string"==typeof t.option&&(t.option=t.option.split(" ")),r[t.name]={target:n(t.target),trigger:t.trigger,func:t.func,option:t.option},n.extend(e,r);for(var i in e)o[i]=!0;return this},s=function(n){return delete e[n],delete o[n],this},l=function(n){return"function"==typeof n&&(f=n),this},a=function(n){return"function"==typeof n&&(c=n),this},p=function(n){return o[n]&&(o[n]=!0),this},w=function(){return p("resize"),this},h=function(){return p("scroll"),this},d=function(){g({name:"resize",target:n(window),trigger:"resize",func:function(){i.winW=n(window).width(),i.winH=n(window).height(),f(i)},option:"scroll"}),g({name:"scroll",target:n(window),trigger:"scroll",func:function(){i.scr=n(window).scrollTop(),c(i)}}),o={};for(var s in e){var l,a,p;if("string"==typeof e[s].trigger)e[s].trigger+=".mRender";else{for(a=e[s].trigger.length,l=0;a>l;l++)e[s].trigger[l]+=".mRender";e[s].trigger=e[s].trigger.join(" ")}!function(n){e[n].target.on(e[n].trigger,function(){if(o[n]=!0,e[n].option)for(p=e[n].option.length,l=0;p>l;l++)o[e[n].option[l]]=!0})}(s)}return clearInterval(t),t=setInterval(u,1e3/r),setTimeout(function(){h(),w()},200),this},v=function(){return clearInterval(t),this},m=function(){clearInterval(t);for(var n in e)e[n].target.off(e[n].trigger);return f=function(n){},c=function(n){},r=60,i={scr:0,winH:0,winW:0},e={},o={},this};return{fps:r,addEvent:g,removeEvent:s,resizeFunc:l,scrollFunc:a,play:d,pause:v,resize:w,scroll:h,on:p,stop:m}}()}(jQuery);
